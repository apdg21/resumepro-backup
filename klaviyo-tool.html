<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Klaviyo Analytics Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <!-- External CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <!-- Local CSS -->
  <link rel="stylesheet" href="klaviyo-tool.css" />
  <link rel="stylesheet" href="header.css" />
  <link rel="stylesheet" href="footer.css" />
  
  <link rel="icon" href="../favicon.svg" type="image/svg+xml">
</head>
<body>
<header>
    <div class="header-content">
        <a href="index.html" class="logo">
            <span class="logo-icon">ðŸ“„</span>
            <span>ResumePro</span>
        </a>
        
        <div class="nav-container">
            <button class="hamburger" aria-label="Toggle navigation">â˜°</button>
            <ul class="header-nav-menu">
                <li class="header-nav-item"><a href="index.html" class="header-nav-link">Home</a></li>
                <li class="header-nav-item header-dropdown">
                    <a href="#" class="header-nav-link">
                        Templates
                        <span class="header-dropdown-icon">â–¼</span>
                    </a>
                    <div class="header-dropdown-content">
                        <a href="resume-templates.html" class="header-dropdown-item">Resume Templates</a>
                        <a href="portfolio-templates.html" class="header-dropdown-item">Portfolio Templates</a>
                    </div>
                </li>
                
                <!-- NEW: My Apps Menu Item -->
                <li class="header-nav-item header-dropdown">
                    <a href="#" class="header-nav-link">
                        My Apps
                        <span class="header-dropdown-icon">â–¼</span>
                    </a>
                    <div class="header-dropdown-content">
                        <a href="android-applications.html" class="header-dropdown-item">Android Applications</a>
                        <a href="family-connection-tools.html" class="header-dropdown-item">Web Applications</a>
                      </div>
                </li>
                
                <li class="header-nav-item header-dropdown">
                    <a href="#" class="header-nav-link">
                        Blog
                        <span class="header-dropdown-icon">â–¼</span>
                    </a>
                    <div class="header-dropdown-content">
                        <a href="portfolio-best-practices.html" class="header-dropdown-item">Portfolio Best Practices</a>
                        <a href="portfolio-maintenance.html" class="header-dropdown-item">Portfolio Maintenance</a>
                        <a href="online-job-sites.html" class="header-dropdown-item">Legit Online Job Sites</a>
                        <a href="email-marketing.html" class="header-dropdown-item">Unlocking Email Marketing Success</a>
                        <a href="mobile-optimization.html" class="header-dropdown-item">Why 'Looking the Same' Isn't Mobile Optimized</a>
                        <a href="email-list-failure.html" class="header-dropdown-item">Why Your Email List Might Be Failing</a> 
                        <a href="email-builder-previews.html" class="header-dropdown-item">Why Email Builder Previews Can't Be Trusted</a>
                        <a href="why-less-is-more.html" class="header-dropdown-item">The Power of Focused Email Design</a>
                    </div>
                </li>
                <li class="header-nav-item"><a href="klaviyo-analytics.html" class="header-nav-link">Klaviyo Analytics</a></li>
                <li class="header-nav-item header-dropdown">
                    <a href="#" class="header-nav-link">
                        Productivity Tools
                        <span class="header-dropdown-icon">â–¼</span>
                    </a>
                    <div class="header-dropdown-content">
                        <a href="email-builder.html" class="header-dropdown-item">Email Builder</a>
                        <a href="enhanced-todo.html" class="header-dropdown-item">Enhanced To-Do & Notes</a>
                        <a href="klaviyo-tool.html" class="header-dropdown-item">Klaviyo Tool</a>
                    </div>
                </li>
                <li class="header-nav-item"><a href="about.html" class="header-nav-link">About</a></li>
                <li class="header-nav-item"><a href="contact.html" class="header-nav-link">Contact</a></li>
            </ul>
        </div>
    </div>
</header>
<!-- Scroll-Triggered Trial Banner (Mini FAB Style) -->
<div class="trial-mini-banner" id="trialBanner" onclick="showFullTrialModal()">
  <i class="fas fa-gift"></i>
  <span class="countdown" id="countdown">7 days</span>
  <i class="fas fa-chevron-up ml-1"></i>
</div>

<!-- Trial Offer Modal -->
<div class="modal fade" id="trialOfferModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background: linear-gradient(135deg, #fd79a8, #6c5ce7); color: white;">
        <h5 class="modal-title"><i class="fas fa-gift mr-2"></i>Limited Time Offer!</h5>
        <button type="button" class="close" data-dismiss="modal" style="color: white;">&times;</button>
      </div>
      <div class="modal-body text-center py-4">
        <i class="fas fa-crown fa-4x mb-3" style="color: #6c5ce7;"></i>
        <h3>ðŸŽ‰ Full Access Unlocked!</h3>
        <p class="lead">All premium features (Monthly, Trends, Growth, Seasonal) are now working for a limited time!</p>
        
        <!-- Trial Period Display -->
        <div class="trial-info bg-light p-3 rounded mb-3">
          <div class="row text-left">
            <div class="col-6">
              <small class="text-muted">Started:</small>
              <div><strong id="startDateDisplay">Feb 19, 2026</strong></div>
            </div>
            <div class="col-6">
              <small class="text-muted">Ends:</small>
              <div><strong id="endDateDisplay">Feb 26, 2026</strong></div>
            </div>
          </div>
          
          <!-- Progress Bar -->
          <div class="mt-2">
            <div class="d-flex justify-content-between small">
              <span>Trial Progress</span>
              <span id="timeRemaining">7 days left</span>
            </div>
            <div class="progress mt-1" style="height: 8px;">
              <div id="trialProgress" class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
            </div>
          </div>
        </div>
        
        <div class="alert alert-warning">
          <strong id="modalCountdown">7 days remaining (ends Feb 26)</strong>
        </div>
        <p>After this trial, these features will be available in our desktop app.</p>
        <a href="https://dolfean.gumroad.com/l/klaviyo-analytic-dashboard" target="_blank" class="btn btn-primary btn-lg">
          <i class="fas fa-shopping-cart mr-2"></i> Get Desktop App
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Upgrade Modal (shown after trial expires) -->
<div class="modal fade" id="upgradeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background: linear-gradient(135deg, #6c5ce7, #fd79a8); color: white;">
        <h5 class="modal-title"><i class="fas fa-crown mr-2"></i>Trial Ended - Upgrade Available</h5>
        <button type="button" class="close" data-dismiss="modal" style="color: white;">&times;</button>
      </div>
      <div class="modal-body text-center py-4">
        <i class="fas fa-rocket fa-4x mb-3" style="color: #6c5ce7;"></i>
        <h3>ðŸš€ Continue Your Analytics Journey!</h3>
        <p class="lead">Your 7-day trial of premium features has ended.</p>
        
        <div class="card bg-light mb-4">
          <div class="card-body">
            <h5 class="text-primary">Get the Desktop App for:</h5>
            <div class="row mt-3">
              <div class="col-6">
                <i class="fas fa-check-circle text-success"></i> Monthly Trends
              </div>
              <div class="col-6">
                <i class="fas fa-check-circle text-success"></i> Growth Analysis
              </div>
              <div class="col-6">
                <i class="fas fa-check-circle text-success"></i> Seasonal Patterns
              </div>
              <div class="col-6">
                <i class="fas fa-check-circle text-success"></i> Advanced Charts
              </div>
            </div>
          </div>
        </div>
        
        <a href="https://dolfean.gumroad.com/l/klaviyo-analytic-dashboard" target="_blank" class="btn btn-primary btn-lg">
          <i class="fas fa-shopping-cart mr-2"></i> Get Desktop App
        </a>
        <p class="mt-2 text-muted small">
          <i class="fas fa-clock"></i> One-time purchase â€¢ All features unlocked â€¢ No subscriptions
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Help Modal (with Google Drive sample link) -->
<div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-wide">
    <div class="modal-content">
      <div class="modal-header" style="background: linear-gradient(135deg, #6c5ce7, #a29bfe); color:white;">
        <h5 class="modal-title" id="helpModalLabel"><i class="fas fa-question-circle mr-2"></i>How to use Klaviyo Analytics Dashboard</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:white;">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><strong>Follow these simple steps to analyze your Klaviyo campaigns:</strong></p>
        
        <div class="help-step">
          <h6><span class="badge badge-primary mr-2">1</span> Export report from Klaviyo</h6>
          <p class="mb-2">In your Klaviyo account:</p>
          <ul class="pl-3">
            <li>Go to <strong>Analytics â†’ Campaigns</strong></li>
            <li>Select the date range you want to analyze</li>
            <li>Click <strong>Export</strong> and choose <strong>CSV</strong> format</li>
            <li>Make sure the export includes columns like: <em>Campaign Name, Send Time, Subject, Total Recipients, Unique Opens, Unique Clicks, Revenue, Open Rate, Click Rate, Placed Order Rate, Send Weekday, List</em></li>
          </ul>
          <p class="mb-0 text-muted small"><i class="fas fa-lightbulb"></i> The exported CSV will contain all campaign-level data needed.</p>
        </div>

        <div class="help-step">
          <h6><span class="badge badge-primary mr-2">2</span> Download sample CSV (optional)</h6>
          <p>If you want to test the dashboard first, click the button below to download a sample Klaviyo export file:</p>
          <a href="https://docs.google.com/spreadsheets/d/1NsSs9EdZWcaYBWoA_Mrg3CNJCgH0-Q_LP9Q5rmI0fco/edit?usp=sharing" target="_blank" class="sample-link">
            <i class="fas fa-download"></i> Download Sample CSV (Google Drive)
          </a>
          <p class="mt-2 small text-muted">Once downloaded, use "Upload Klaviyo CSV" to select the file.</p>
        </div>

        <div class="help-step">
          <h6><span class="badge badge-primary mr-2">3</span> Upload & filter</h6>
          <p>Click <strong>Choose file</strong> and select your Klaviyo CSV. Optionally set a date range, then click <strong>Filter Data</strong>. The dashboard will populate all tabs with charts and tables.</p>
        </div>

        <div class="help-step">
          <h6><span class="badge badge-primary mr-2">4</span> Explore insights</h6>
          <p>Navigate through tabs:</p>
          <ul class="row">
            <li class="col-sm-6"><i class="fas fa-calendar-day text-primary"></i> Daily: perâ€‘campaign breakdown</li>
            <li class="col-sm-6"><i class="fas fa-calendar-week text-primary"></i> Weekly: aggregated metrics</li>
            <li class="col-sm-6"><i class="fas fa-calendar text-primary"></i> Monthly: monthâ€‘byâ€‘month totals</li>
            <li class="col-sm-6"><i class="fas fa-chart-line text-primary"></i> Trends: revenue line chart</li>
            <li class="col-sm-6"><i class="fas fa-rocket text-primary"></i> Growth: top campaigns</li>
            <li class="col-sm-6"><i class="fas fa-calendar-check text-primary"></i> Seasonal: best day/month</li>
          </ul>
          <p>Use the <strong>export buttons</strong> inside each tab to download the data as CSV.</p>
        </div>

        <div class="alert alert-light border mt-3">
          <i class="fas fa-info-circle mr-2 text-primary"></i> 
          <strong>Note:</strong> The CSV must contain the expected columns. The sample file matches the required format.
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid">
  
  <div class="dashboard-header">
    <div class="row align-items-center">
      <div class="col-md-8">
        <h1><i class="fas fa-chart-line mr-2"></i>Klaviyo Analytics Dashboard</h1>
        <p class="mb-0">âœ¨ Premium features unlocked for 7 days âœ¨</p>
      </div>
      <div class="col-md-4 text-md-right">
        <button class="btn btn-light mr-2" data-toggle="modal" data-target="#helpModal">
          <i class="fas fa-question-circle"></i> Help
        </button>
        <a href="https://dolfean.gumroad.com/l/klaviyo-analytic-dashboard" target="_blank" class="btn btn-light">
          <i class="fas fa-shopping-cart"></i> Get Desktop App
        </a>
      </div>
    </div>
  </div>

  <!-- Upload Section -->
  <div class="card">
    <div class="card-body">
      <div class="form-row align-items-end">
        <div class="form-group col-md-4">
          <label><i class="fas fa-file-upload mr-2"></i>Upload Klaviyo CSV</label>
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="csvUpload" accept=".csv">
            <label class="custom-file-label" for="csvUpload">Choose file...</label>
          </div>
        </div>
        <div class="form-group col-md-2">
          <label><i class="far fa-calendar-alt mr-2"></i>Start Date</label>
          <input id="startDate" type="date" class="form-control" />
        </div>
        <div class="form-group col-md-2">
          <label><i class="far fa-calendar-alt mr-2"></i>End Date</label>
          <input id="endDate" type="date" class="form-control" />
        </div>
        <div class="form-group col-md-2">
          <button id="filterButton" class="btn btn-primary btn-block">
            <i class="fas fa-filter mr-2"></i>Filter Data
          </button>
        </div>
        <div class="form-group col-md-2">
          <div id="loadingIndicator" class="alert alert-warning loading mb-0">
            <div class="spinner"></div> Processing...
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tabs Navigation -->
  <div class="card">
    <div class="card-body p-0">
      <ul class="nav nav-tabs" id="mainTabs" role="tablist">
        <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#daily"><i class="fas fa-calendar-day mr-2"></i>Daily</a></li>
        <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#weekly"><i class="fas fa-calendar-week mr-2"></i>Weekly</a></li>
        <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#monthly"><i class="fas fa-calendar mr-2"></i>Monthly <span class="badge badge-warning ml-1">TRIAL</span></a></li>
        <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#trend"><i class="fas fa-chart-line mr-2"></i>Trends <span class="badge badge-warning ml-1">TRIAL</span></a></li>
        <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#growth"><i class="fas fa-rocket mr-2"></i>Growth <span class="badge badge-warning ml-1">TRIAL</span></a></li>
        <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#seasonal"><i class="fas fa-calendar-check mr-2"></i>Seasonal <span class="badge badge-warning ml-1">TRIAL</span></a></li>
      </ul>

      <!-- Tab Content -->
      <div class="tab-content p-3">
        <!-- Daily Tab -->
        <div class="tab-pane fade show active" id="daily">
          <button class="btn export-btn" id="exportDailyBtn"><i class="fas fa-download mr-2"></i>Export Daily Data</button>
          <div id="dailyTable" class="table-responsive"></div>
        </div>

        <!-- Weekly Tab -->
        <div class="tab-pane fade" id="weekly">
          <button class="btn export-btn" id="exportWeeklyBtn"><i class="fas fa-download mr-2"></i>Export Weekly Data</button>
          <div id="weeklyTable" class="table-responsive"></div>
        </div>

        <!-- Monthly Tab -->
        <div class="tab-pane fade" id="monthly">
          <button class="btn export-btn" id="exportMonthlyBtn"><i class="fas fa-download mr-2"></i>Export Monthly Data</button>
          <div id="monthlyTable" class="table-responsive"></div>
        </div>

        <!-- Trends Tab -->
        <div class="tab-pane fade" id="trend">
          <div class="row">
            <div class="col-lg-6">
              <div class="chart-wrap"><canvas id="trendChart"></canvas></div>
              <button class="btn export-btn" id="exportTrendBtn"><i class="fas fa-download mr-2"></i>Export Trend Data</button>
            </div>
            <div class="col-lg-6"><div id="trendTable" class="table-responsive"></div></div>
          </div>
        </div>

        <!-- Growth Tab -->
        <div class="tab-pane fade" id="growth">
          <div class="row">
            <div class="col-lg-6">
              <div class="chart-wrap"><canvas id="growthChart"></canvas></div>
              <button class="btn export-btn" id="exportGrowthBtn"><i class="fas fa-download mr-2"></i>Export Growth Data</button>
            </div>
            <div class="col-lg-6"><div id="growthTable" class="table-responsive"></div></div>
          </div>
        </div>

        <!-- Seasonal Tab -->
        <div class="tab-pane fade" id="seasonal">
          <div class="row">
            <div class="col-lg-6">
              <div class="chart-wrap"><canvas id="seasonalChart"></canvas></div>
              <button class="btn export-btn" id="exportSeasonalBtn"><i class="fas fa-download mr-2"></i>Export Seasonal Data</button>
            </div>
            <div class="col-lg-6"><div id="seasonalTable" class="table-responsive"></div></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Purchase Card -->
  <div class="installer-card">
    <i class="fas fa-crown fa-3x mb-3"></i>
    <h3>Love the full access? Get the Desktop App!</h3>
    <p>After 7 days, advanced features will be available only in the desktop version.</p>
    <a href="https://dolfean.gumroad.com/l/klaviyo-analytic-dashboard" target="_blank" class="installer-btn">
      <i class="fas fa-shopping-cart mr-2"></i>Get Desktop App
    </a>
    <p class="mt-3 small opacity-8">âœ“ All features permanently âœ“ Faster processing âœ“ No browser limits</p>
  </div>
</div>

<footer>
    <div class="footer-content">
        <div class="footer-column">
            <h3>ResumePro</h3>
            <p>Professional digital templates to showcase your career and work.</p>
        </div>
        
        <div class="footer-column">
            <h3>Templates</h3>
            <ul class="footer-links">
                <li><a href="resume-templates.html">Resume Templates</a></li>
                <li><a href="portfolio-templates.html">Portfolio Templates</a></li>
                <li><a href="#">All Templates</a></li>
            </ul>
        </div>
        
        <div class="footer-column">
            <h3>Resources</h3>
            <ul class="footer-links">
                <li><a href="help.html#editing">How to Edit</a></li>
                <li><a href="help.html#hosting">Hosting Guide</a></li>
                <li><a href="help.html#tips">Tips & Examples</a></li>
            </ul>
        </div>
        
        <div class="footer-column">
            <h3>Company</h3>
            <ul class="footer-links">
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="privacy.html">Privacy Policy</a></li>
                <li><a href="terms.html">Terms of Service</a></li>
            </ul>
        </div>
    </div>
    
    <div class="copyright">
        <p>&copy; 2023 Adolf de Guzman. All rights reserved.</p>
    </div>
</footer>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>

<!-- Local JavaScript -->
<script src="klaviyo-tool.js"></script>
<script src="header.js"></script>
</body>
</html>